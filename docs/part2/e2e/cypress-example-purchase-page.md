# ğŸ“š Cypress ê°•ì˜: API ëª¨í‚¹ê³¼ ê²°ì œ í…ŒìŠ¤íŠ¸ ì „ëµ

## ğŸš€ í•™ìŠµ ëª©í‘œ
- **`alias`ë¥¼ ì‚¬ìš©í•´ í¸ë¦¬í•˜ê²Œ í…Œì´ë¸” ìš”ì†Œ ì¡°íšŒ**
- **í†µí•© í…ŒìŠ¤íŠ¸ì—ì„œ ê²€ì¦í•  ìˆ˜ ì—†ì—ˆë˜ êµ¬ë§¤ ì„±ê³µÂ·ì‹¤íŒ¨ì— ëŒ€í•œ ì›Œí¬í”Œë¡œìš°ê¹Œì§€ ê²€ì¦**
- **ê²°ì œì²˜ëŸ¼ ì™¸ë¶€ ì•±(PGì‚¬)ì„ ì‚¬ìš©í•´ í…ŒìŠ¤íŠ¸ í™˜ê²½ì„ ë§Œë“¤ê¸° ì–´ë ¤ìš´ ê²½ìš° API ìŠ¤í„°ë¹™ì„ í†µí•´ ì‹œë‚˜ë¦¬ì˜¤ë¥¼ ê²€ì¦**

---

## `alias`ë¥¼ ì‚¬ìš©í•œ í…Œì´ë¸” ìš”ì†Œ ì¡°íšŒ
`cy.as()`ë¥¼ ì‚¬ìš©í•˜ë©´ ë³µì¡í•œ í…Œì´ë¸” êµ¬ì¡°ì—ì„œ íŠ¹ì • ìš”ì†Œë¥¼ í¸ë¦¬í•˜ê²Œ ì°¸ì¡° ê°€ëŠ¥

### ì˜ˆì œ: ë°°ì†¡ ì •ë³´ ì¡°íšŒ
```javascript
beforeEach(() => {
  cy.findAllByRole('table').eq(0).findAllByRole('row').as('shippingList');
});

it('ë¡œê·¸ì¸í•œ ì‚¬ìš©ìì˜ ì´ë¦„ "Maria"ê°€ ì…ë ¥ë˜ì–´ ìˆë‹¤.', () => {
  cy.get('@shippingList').eq(0).findByRole('textbox').should('have.value', 'Maria');
});
```
âœ… `as()`ë¥¼ ì‚¬ìš©í•´ `@shippingList`ë¡œ ì§€ì •í•˜ë©´, ë³µì¡í•œ í…Œì´ë¸” êµ¬ì¡°ì—ì„œë„ ê°„í¸í•˜ê²Œ íŠ¹ì • ìš”ì†Œë¥¼ ì°¸ì¡°í•  ìˆ˜ ìˆë‹¤.

---

## ê²°ì œ ì‹œë‚˜ë¦¬ì˜¤ ê²€ì¦
ì™¸ë¶€ ê²°ì œ ì‹œìŠ¤í…œ(PGì‚¬)ê³¼ ê°™ì´ í…ŒìŠ¤íŠ¸ í™˜ê²½ì„ ë§Œë“¤ê¸° ì–´ë ¤ìš´ ê²½ìš°, `cy.intercept()`ë¥¼ í†µí•´ APIë¥¼ ìŠ¤í„°ë¹™í•˜ì—¬ ê²°ì œ ì„±ê³µ/ì‹¤íŒ¨ ì‹œë‚˜ë¦¬ì˜¤ë¥¼ ê²€ì¦í•  ìˆ˜ ìˆë‹¤.

### ì˜ˆì œ: êµ¬ë§¤ ì„±ê³µ ì‹œ
```javascript
it('êµ¬ë§¤í•˜ê¸° ì„±ê³µì‹œ ì¥ë°”êµ¬ë‹ˆëŠ” ì´ˆê¸°í™” ë˜ê³  ë©”ì¸í™ˆ í˜ì´ì§€ë¡œ ì´ë™í•˜ë©°, "êµ¬ë§¤ ì„±ê³µ!" ë©”ì„¸ì§€ê°€ ë…¸ì¶œëœë‹¤', () => {
  cy.intercept('POST', 'http://localhost:3000/purchase', {statusCode: 200});

  cy.get('@shippingList').eq(1).findByPlaceholderText('ì£¼ì†Œë¥¼ ì…ë ¥í•˜ì„¸ìš”').type('Seoul, Gwanakgu');
  cy.get('@shippingList').eq(3).findByPlaceholderText('íœ´ëŒ€í° ë²ˆí˜¸ë¥¼ ì…ë ¥í•˜ì„¸ìš”').type('000-1110-1111');

  cy.findByText('êµ¬ë§¤í•˜ê¸°').click();

  cy.assertUrl('/');
  cy.findByText('êµ¬ë§¤ ì„±ê³µ!').should('exist');
  cy.getCartButton().should('have.text', '');
});
```

### ì˜ˆì œ: êµ¬ë§¤ ì‹¤íŒ¨ ì‹œ
```javascript
it('êµ¬ë§¤ ì‹¤íŒ¨ì‹œ "ì ì‹œ ë¬¸ì œê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤! ë‹¤ì‹œ ì‹œë„í•´ ì£¼ì„¸ìš”."ë¼ê³  ê²½ê³  ë¬¸êµ¬ê°€ ë…¸ì¶œëœë‹¤', () => {
  cy.intercept('POST', 'http://localhost:3000/purchase', {statusCode: 500});

  cy.get('@shippingList').eq(1).findByPlaceholderText('ì£¼ì†Œë¥¼ ì…ë ¥í•˜ì„¸ìš”').type('Seoul, Gwanakgu');
  cy.get('@shippingList').eq(3).findByPlaceholderText('íœ´ëŒ€í° ë²ˆí˜¸ë¥¼ ì…ë ¥í•˜ì„¸ìš”').type('000-1110-1111');

  cy.findByText('êµ¬ë§¤í•˜ê¸°').click();

  cy.findByText('ì ì‹œ ë¬¸ì œê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤! ë‹¤ì‹œ ì‹œë„í•´ ì£¼ì„¸ìš”.').should('exist');
});
```

âœ… `cy.intercept()`ë¥¼ í™œìš©í•˜ë©´ **ì™¸ë¶€ ì„œë¹„ìŠ¤ ì—†ì´** ì„±ê³µ/ì‹¤íŒ¨ ì‹œë‚˜ë¦¬ì˜¤ë¥¼ ì‰½ê²Œ ê²€ì¦í•  ìˆ˜ ìˆë‹¤.

