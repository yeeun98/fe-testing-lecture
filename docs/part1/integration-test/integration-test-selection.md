> 강의 노트 중 "가능한 한 모킹을 하지 않고 실제와 유사하게 검증한다"라는
  문장에 대해 자세히 정리하기위해 작성 !

<br/>

~~~plaintext
📝  통합 테스트에서는 구성된 비즈니스 로직을 적절한 단위로 나눠 컴포넌트 집합을 검증해야 한다
    • 비즈니스 로직을 기준으로 통합 테스트를 나눌 때는 가능한 한 모킹을 하지 않고 실제와 유사하게 검증한다
~~~

### ✅ “가능한 한 모킹을 하지 않고 실제와 유사하게 검증한다”의 의미란 ?
`모킹(Mock)`이란 테스트 환경에서 실제 객체나 기능(API, 데이터베이스 등)을 대신하는 가짜 객체를 만들어 사용하는 방법.  <br>
이 문장에서 말하는 것은, “**테스트의 신뢰성을 높이기 위해 실제 환경과 최대한 비슷하게 테스트하자**”는 의미이다.

#### 📌 1. 왜 모킹을 사용하는가?
- 외부 API 호출이나 DB 요청은 비용이 크고, 속도가 느리며, 항상 같은 결과를 보장하지 않음.
- 그래서 빠르고 일관된 테스트를 위해 가짜 데이터를 만들어 테스트를 진행함.

**❗ 하지만 통합 테스트에서는…**
- 여러 컴포넌트와 모듈이 상호작용하는 부분을 검증하는 것이 목표.
- 모킹을 많이 사용하면 실제 환경과의 차이로 인해 테스트 신뢰성이 떨어짐.
- 실제 API 호출, 상태 관리, 데이터 흐름이 어떻게 동작하는지 제대로 확인하기 어려움.

---

#### 🚀 2. “가능한 한 모킹을 하지 않는다”는 뜻
- 통합 테스트에서는 실제 서비스 흐름에 더 가깝게 테스트해야 함.
- API 호출, 상태 관리 로직 등을 실제로 동작시키면서 문제가 발생하는지 확인함.

예시로 살펴보자:

##### 🛒 장바구니 페이지 테스트 예시
- **✅ 모킹 없이 테스트:**
	- 실제 API로 상품 리스트를 불러옴
 	- 실제 상태 관리로 장바구니에 상품 추가
	- 실제 가격 계산 로직을 거침
- **🚫 모킹을 사용한 테스트:**
	- 상품 리스트 데이터를 가짜(Mock)로 만듦
 	- 장바구니 상태를 강제로 설정
    	- 가격 계산 결과를 가짜 값으로 지정

➡ 결과:<br>
•	모킹 없이 테스트하면 실제 서비스와 똑같은 흐름으로 검증 가능<br>
•	실제 데이터 흐름 중 발생하는 예상치 못한 에러나 버그를 발견할 수 있음<br>

---

#### ⚡ 3. 언제 모킹이 필요한가?
> 물론 모킹이 아예 필요 없다는 뜻은 아니다
- 외부 API가 느리거나 불안정한 경우
- 3rd-party 서비스와의 연동 테스트
- 결제, 인증 등 민감한 데이터 처리

이런 경우에는 모킹이 불가피하며, 가능한 한 최소한으로 사용하자는 뜻 !

---

#### 🎯 결론
- 통합 테스트에서는 실제 환경과 유사한 조건에서 테스트해야 더 신뢰성 높은 결과를 얻을 수 있음.
- 따라서 모킹을 최소화하고, 실제 데이터 흐름과 상호작용을 최대한 활용하는 것이 중요하다. 🚀
